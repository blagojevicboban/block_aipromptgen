define("block_aipromptgen/actions",["exports","core/str"],(function(_exports,_str){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.attachCopyDownload=void 0;const $=function(sel){let root=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return root.querySelector(sel)};_exports.attachCopyDownload=()=>{const copyBtn=$("#ai4t-copy"),dlBtn=$("#ai4t-download"),sendBtn=$("#ai4t-sendtochat"),ta=$("#ai4t-generated"),form=document.querySelector("form.mform"),copied=$("#ai4t-copied");null==copyBtn||copyBtn.addEventListener("click",(()=>{var _navigator$clipboard;if(!ta)return;ta.select(),ta.setSelectionRange(0,ta.value.length);(null!==(_navigator$clipboard=navigator.clipboard)&&void 0!==_navigator$clipboard&&_navigator$clipboard.writeText?navigator.clipboard.writeText(ta.value):Promise.resolve(document.execCommand("copy"))).catch((()=>{})),copied&&(0,_str.getString)("form:copied","block_aipromptgen").then((str=>(copied.textContent=str,copied.style.display="inline",setTimeout((()=>{copied.style.display="none"}),1500),!0)))})),null==dlBtn||dlBtn.addEventListener("click",(()=>{var _document$querySelect;if(!ta)return;const slug=((null===(_document$querySelect=document.querySelector("title"))||void 0===_document$querySelect?void 0:_document$querySelect.textContent)||"prompt").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),blob=new Blob([ta.value||""],{type:"text/plain"}),a=document.createElement("a");a.href=URL.createObjectURL(blob),a.download="".concat(slug,"-ai-prompt.txt"),document.body.appendChild(a),a.click(),setTimeout((()=>{URL.revokeObjectURL(a.href),a.remove()}),0)})),null==sendBtn||sendBtn.addEventListener("click",(()=>{if(!form)return;const i=document.createElement("input");i.type="hidden",i.name="sendtochat",i.value="1",form.appendChild(i),form.submit()}))}}));

//# sourceMappingURL=actions.min.js.map